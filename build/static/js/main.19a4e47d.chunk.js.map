{"version":3,"sources":["components/PersonForm.js","components/ContactFilter.js","components/Person.js","services/persons.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["PersonForm","addContact","newName","handleNameChange","handleNumberChange","newNumber","onSubmit","value","onChange","type","ContactFilter","change","Person","name","number","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Persons","persons","filterValue","setPersons","setErrorMessage","setIsError","filter","person","toLowerCase","includes","map","key","onClick","index","window","confirm","personService","setTimeout","Notification","message","isError","notificationStyle","color","className","style","App","useState","setNewName","setNewNumber","setFilterValue","errorMessage","useEffect","initialPersons","e","target","preventDefault","length","p","personObject","concat","catch","error","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.19a4e47d.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst PersonForm = ({\r\n  addContact,\r\n  newName,\r\n  handleNameChange,\r\n  handleNumberChange,\r\n  newNumber,\r\n}) => (\r\n  <>\r\n    <form onSubmit={addContact}>\r\n      <div>\r\n        name: <input value={newName} onChange={handleNameChange} />\r\n      </div>\r\n      <div>\r\n        number: <input value={newNumber} onChange={handleNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n    <h2>Numbers</h2>\r\n  </>\r\n);\r\n\r\nexport default PersonForm;\r\n","import React from \"react\";\r\n\r\nconst ContactFilter = ({ value, change }) => (\r\n  <div>\r\n    filter shown: <input value={value} onChange={change} />\r\n  </div>\r\n);\r\n\r\nexport default ContactFilter;\r\n","import React from \"react\";\r\n\r\nconst Person = ({ name, number }) => (\r\n  <li>\r\n    {name} {number}\r\n  </li>\r\n);\r\n\r\nexport default Person;\r\n","import axios from \"axios\";\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl).then((response) => response.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n  return axios.post(baseUrl, newObject);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  return axios\r\n    .put(`${baseUrl}/${id}`, newObject)\r\n    .then((response) => response.data);\r\n};\r\n\r\nconst remove = (id) => {\r\n  return axios.delete(`${baseUrl}/${id}`, id).then((response) => response.data);\r\n};\r\n\r\nexport default {\r\n  getAll: getAll,\r\n  create: create,\r\n  update: update,\r\n  remove: remove,\r\n};\r\n","import React from \"react\";\r\nimport Person from \"./Person\";\r\nimport personService from \"../services/persons\";\r\n\r\nconst Persons = ({\r\n  persons,\r\n  filterValue,\r\n  setPersons,\r\n  setErrorMessage,\r\n  setIsError,\r\n}) => {\r\n  const removePerson = (index, name) => {\r\n    if (window.confirm(`Delete ${name}?`)) {\r\n      personService.remove(index);\r\n      setPersons(persons.filter((person) => person.id !== index));\r\n      setErrorMessage(`Removed ${name}`);\r\n      setIsError(false);\r\n      setTimeout(() => {\r\n        setErrorMessage(null);\r\n      }, 2000);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ul>\r\n      {persons\r\n        .filter((person) =>\r\n          person.name.toLowerCase().includes(filterValue.toLowerCase())\r\n        )\r\n        .map((person) => (\r\n          <div key={person.name}>\r\n            <Person\r\n              name={person.name}\r\n              number={person.number}\r\n              key={person.name}\r\n            />\r\n            <button onClick={() => removePerson(person.id, person.name)}>\r\n              delete\r\n            </button>\r\n          </div>\r\n        ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default Persons;\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ message, isError }) => {\r\n  const notificationStyle = {\r\n    color: \"red\",\r\n  };\r\n\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n  if (isError) {\r\n    notificationStyle.color = \"red\";\r\n  } else {\r\n    notificationStyle.color = \"green\";\r\n  }\r\n\r\n  return (\r\n    <div className=\"error\" style={notificationStyle}>\r\n      {message}{\" \"}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from \"react\";\nimport PersonForm from \"./components/PersonForm\";\nimport ContactFilter from \"./components/ContactFilter\";\nimport Persons from \"./components/Persons\";\nimport personService from \"./services/persons\";\nimport Notification from \"./components/Notification\";\nimport \"./index.css\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filterValue, setFilterValue] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [isError, setIsError] = useState(false);\n\n  useEffect(() => {\n    personService.getAll().then((initialPersons) => {\n      setPersons(initialPersons);\n    });\n  }, []);\n\n  const handleFilterValue = (e) => {\n    setFilterValue(e.target.value);\n  };\n  const handleNameChange = (e) => {\n    setNewName(e.target.value);\n  };\n  const handleNumberChange = (e) => {\n    setNewNumber(e.target.value);\n  };\n\n  const addContact = (e) => {\n    e.preventDefault();\n    if (newName.length === 0) {\n      return;\n    }\n    let person = persons.filter((p) => p.name === newName);\n    if (person.length === 0) {\n      const personObject = {\n        name: newName,\n        number: newNumber,\n      };\n      personService\n        .create(personObject)\n        .then((newObject) => {\n          personObject.id = newObject.id;\n          setPersons(persons.concat(personObject));\n          setErrorMessage(`Added ${personObject.name}`);\n          setIsError(false);\n          setTimeout(() => {\n            setErrorMessage(null);\n          }, 2000);\n        })\n        .catch((error) => {\n          setErrorMessage(error.response.data.error);\n          setIsError(true);\n          setTimeout(() => {\n            setErrorMessage(null);\n          }, 2000);\n        });\n    } else {\n      if (\n        window.confirm(\n          `\"${newName}\" is already added to phonebook, replace the old number with a new one?`\n        )\n      ) {\n        person[0].number = newNumber;\n        personService.update(person[0].id, person[0]).catch((error) => {\n          setIsError(true);\n          setErrorMessage(\n            `Person ${person[0].name} doesn't exist in the database`\n          );\n\n          personService.getAll().then((initialPersons) => {\n            setPersons(initialPersons);\n          });\n\n          setTimeout(() => {\n            setErrorMessage(null);\n          }, 2000);\n        });\n\n        let newPersons = persons;\n        setPersons(newPersons);\n        setIsError(false);\n        setErrorMessage(`Added new number for ${person[0].name}`);\n        setTimeout(() => {\n          setErrorMessage(null);\n        }, 2000);\n      }\n    }\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={errorMessage} isError={isError} />\n      <h3>Contact Filter</h3>\n      <ContactFilter value={filterValue} change={handleFilterValue} />\n\n      <h3>Add a new contact here</h3>\n      <PersonForm\n        newName={newName}\n        newNumber={newNumber}\n        addContact={addContact}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n      />\n\n      <h3>Numbers</h3>\n      <Persons\n        persons={persons}\n        filterValue={filterValue}\n        setPersons={setPersons}\n        setErrorMessage={setErrorMessage}\n        setIsError={setIsError}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\n"],"sourceRoot":""}